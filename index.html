<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>مساعد رمضان الذكي</title>
    <link rel="stylesheet" href="style.css">
    <!-- استيراد مكتبة الرسم البياني -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- استيراد الأيقونات -->
    <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body>
    <div class="container">
        <!-- الهيدر -->
        <header>
            <div class="header-content">
                <h1><i data-lucide="moon" class="icon-yellow"></i> مساعد رمضان الذكي</h1>
                <p>نظام التقييم الذاتي المطور</p>
            </div>
            <nav>
                <button onclick="showTab('daily')" id="btn-daily" class="active">الجدول اليومي</button>
                <button onclick="showTab('progress')" id="btn-progress">متابعة التقدم</button>
            </nav>
        </header>

        <main>
            <!-- صفحة الجدول اليومي -->
            <section id="daily-tab" class="tab-content active">
                <div class="table-container">
                    <table id="tracker-table">
                        <thead>
                            <tr id="table-header">
                                <th>العبادات اليومية</th>
                                <!-- سيتم توليد الأيام بواسطة JS -->
                            </tr>
                        </thead>
                        <tbody id="table-body">
                            <!-- سيتم توليد المحتوى بواسطة JS -->
                        </tbody>
                        <tfoot>
                            <tr id="table-footer" class="footer-row">
                                <td>مجموع النقاط</td>
                                <!-- سيتم توليد المجاميع بواسطة JS -->
                            </tr>
                        </tfoot>
                    </table>
                </div>

                <!-- كارت الحالة اليومية -->
                <div class="daily-status-card">
                    <div class="zap-info">
                        <div class="zap-icon"><i data-lucide="zap"></i></div>
                        <div>
                            <h4>تحليل إنجاز اليوم</h4>
                            <p id="daily-analysis-text">ابدأ بتسجيل عباداتك الآن</p>
                        </div>
                    </div>
                    <div class="daily-stats">
                        <div class="stat-item">
                            <span class="stat-label">نقاط اليوم</span>
                            <span class="stat-value" id="today-points">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">أجزاء اليوم</span>
                            <span class="stat-value highlight" id="today-quran">0</span>
                        </div>
                    </div>
                </div>

                <!-- الرسم البياني -->
                <div class="chart-section">
                    <h3><i data-lucide="bar-chart-3"></i> منحنى الالتزام اليومي</h3>
                    <div class="canvas-container">
                        <canvas id="performanceChart"></canvas>
                    </div>
                </div>
            </section>

            <!-- صفحة التقدم -->
            <section id="progress-tab" class="tab-content">
                <div class="stats-grid">
                    <div class="grid-card blue">
                        <i data-lucide="target"></i>
                        <span class="label">الهدف</span>
                        <span class="value">5 ختمات</span>
                    </div>
                    <div class="grid-card indigo">
                        <i data-lucide="trending-up"></i>
                        <span class="label">الإنجاز</span>
                        <span class="value" id="completion-rate-text">0%</span>
                    </div>
                    <div class="grid-card amber">
                        <i data-lucide="sun"></i>
                        <span class="label">اليومي</span>
                        <span class="value">5 أجزاء</span>
                    </div>
                    <div class="grid-card emerald">
                        <i data-lucide="book-open"></i>
                        <span class="label">المجموع</span>
                        <span class="value" id="total-quran-text">0 جزء</span>
                    </div>
                </div>

                <!-- الحالة الذكية -->
                <div class="smart-status-card">
                    <h2 id="status-label">بانتظار البيانات...</h2>
                    <p id="status-sub">سجل عباداتك في الجدول لتظهر حالتك هنا.</p>
                    <div class="progress-bar-container">
                        <div id="progress-fill" class="progress-fill"></div>
                    </div>
                    <div class="extra-stats">
                        <div>
                            <span id="completed-khatmas">0.00</span>
                            <small>ختمات مكتملة</small>
                        </div>
                        <div class="divider"></div>
                        <div>
                            <span id="remaining-quran">35</span>
                            <small>جزء متبقي للأسبوع</small>
                        </div>
                    </div>
                </div>

                <!-- المراجعة الأسبوعية -->
                <div class="reflection-section">
                    <h3><i data-lucide="pencil-line"></i> مساحة المراجعة الأسبوعية</h3>
                    <div class="forms-grid">
                        <div class="input-group">
                            <label><i data-lucide="message-square"></i> لماذا كان الأسبوع قوياً أو ضعيفاً؟</label>
                            <textarea id="note-reason" placeholder="اكتب أسبابك هنا..."></textarea>
                        </div>
                        <div class="input-group">
                            <label><i data-lucide="alert-circle"></i> هل أنا ماشي على الخطة؟ وكيف أتحسن؟</label>
                            <textarea id="note-eval" placeholder="اكتب خطتك للتحسن هنا..."></textarea>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script src="script.js"></script>
    <script>
        // تفعيل الأيقونات بعد تحميل الصفحة
        lucide.createIcons();
    </script>
</body>
</html>